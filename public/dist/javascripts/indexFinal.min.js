"use strict";var myApp=angular.module("myApp",["ui.router","ngAnimate","controllers","ngResource","ngMaterial","ngMessages","ui.bootstrap","ngMdIcons","angularMoment","door3.css"]);myApp.config(function($stateProvider,$locationProvider){$stateProvider.state("/",{url:"/",templateUrl:"partials/home",css:{href:"dist/stylesheets/main.min.css",preload:!0}}).state("about",{url:"/about",templateUrl:"partials/about"}).state("contact",{url:"/contact",templateUrl:"partials/contact",controller:"ContactCtrl"}).state("info",{url:"/info",templateUrl:"partials/info"}).state("contact-thanks",{url:"/thanks",templateUrl:"partials/contact-thanks"}).state("blog",{url:"/blog",templateUrl:"partials/blog",controller:"BlogCtrl"}).state("blogView",{url:"/blog/:id/view",templateUrl:"partials/blogDetail",controller:"BlogViewCtrl"}).state("blogPost",{url:"/blog_post",templateUrl:"partials/blogPost",controller:"BlogPostCtrl"}).state("blogEdit",{url:"/blog/:id/edit",templateUrl:"partials/blogPost",controller:"BlogEditCtrl"}).state("admin",{url:"/admin",templateUrl:"partials/adminLayout",controller:"AdminCtrl"}),$locationProvider.html5Mode(!0)}),myApp.config(function($mdThemingProvider){$mdThemingProvider.theme("default").primaryPalette("green").accentPalette("purple")}),myApp.factory("Contact",function($resource){return $resource("/api/contact/:id",{id:"@_id"})}),myApp.factory("Blog",function($resource){return $resource("/api/blog/:id",{id:"@_id"},{update:{method:"PUT",params:{id:"@id"}}})}),myApp.config(function($mdDateLocaleProvider){$mdDateLocaleProvider.formatDate=function(date){return moment(date).format("LL")}});var module=angular.module("controllers",[]);module.controller("LeftNavCtrl",["$scope","$mdSidenav",function($scope,$mdSidenav){$scope.toggleSidenav=function(){$mdSidenav("left").toggle()},$scope.close=function(){$mdSidenav("left").close()}}]),module.controller("RightNavCtrl",["$scope","$mdSidenav",function($scope,$mdSidenav){$scope.toggleSidenav=function(){$mdSidenav("right").toggle()}}]),module.controller("BlogCtrl",["$scope","Blog","$stateParams",function($scope,Blog,$stateParams){$scope.posts=Blog.query()}]),module.controller("BlogViewCtrl",["$scope","Blog","$stateParams",function($scope,Blog,$stateParams){$scope.blog=Blog.get({id:$stateParams.id})}]),module.controller("BlogPostCtrl",["$scope","Blog","$state",function($scope,Blog,$state){$scope.blog=new Blog,$scope.blog.date=new Date,$scope.blog.tag=[],$scope.blog.author="Benny Forehand",$scope.addTag=function(){$scope.blog.tag.push($scope.blog.newTag),$scope.blog.newTag=""},$scope.saveBlog=function(){$scope.blog.$save().then(function(){$state.go("blog")})}}]),module.controller("BlogEditCtrl",["$scope","Blog","$state","$stateParams",function($scope,Blog,$state,$stateParams){$scope.blog=Blog,$scope.blog=Blog.get({id:$stateParams.id}),$scope.blog.tag=[],$scope.addTag=function(){$scope.blog.tag.push($scope.blog.newTag),$scope.blog.newTag=""},$scope.saveBlog=function(){$scope.blog.$update({id:$stateParams.id}).then(function(){$state.go("admin")})}}]),module.controller("AdminCtrl",["$scope","Blog","$state","$stateParams",function($scope,Blog,$state,$stateParams){$scope.posts=Blog.query(),$scope.deletePost=function(blogId){Blog["delete"]({id:blogId}),$state.go("blog")}}]),module.controller("ContactCtrl",["$scope","Contact","$state",function($scope,Contact,$state){$scope.contact=new Contact,$scope.contact.state="FL",$scope.contact.date=new Date,$scope.states="AL AK AZ AR CA CO CT DE FL GA HI ID IL IN IA KS KY LA ME MD MA MI MN MS MO MT NE NV NH NJ NM NY NC ND OH OK OR PA RI SC SD TN TX UT VT VA WA WV WI WY".split(" ").map(function(state){return{abbrev:state}}),$scope.saveContact=function(){$scope.contact.$save().then(function(){$state.go("contact-thanks")})}}]);